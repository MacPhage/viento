<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Viento: Fire and manage CSS animations on-the-fly</title>

        <link href='http://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href="css/materialize.min.css" rel="stylesheet">
        <link href="css/animate.css" rel="stylesheet">
        <link href="css/viento.css" rel="stylesheet">
        <link href="css/github-syntax-highlighting.css" rel="stylesheet">

        <script src="js/jquery.min.js"></script>
        <script src="js/materialize.min.js"></script>
        <script src="js/marked.min.js"></script>
        <script src="js/highlight.pack.js"></script>
        <script src="https://cdn.rawgit.com/au5ton/viento/master/viento.js"></script>
    </head>
    <body>

        <div class="hero">

            <div id="herotext" class="wrap-outer hidden">
                <div class="wrap-inner">
                    <h1>Viento</h1>
                    <h5>Fire and manage CSS animations on-the-fly</h5>
                </div>
            </div>

        </div>

        <div id="content" class="container markdown-content">
            <!-- THIS IS REPLACED WITH COMPILED MARKDOWN -->
            <!-- THIS IS REPLACED WITH COMPILED MARKDOWN -->
            <!-- THIS IS REPLACED WITH COMPILED MARKDOWN -->
        </div>

        <footer class="page-footer blue">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">Viento</h5>
                        <p class="grey-text text-lighten-4">
                            Fire and manage CSS animations on-the-fly. Tested to be compatible with <a class="white-text" href="https://daneden.github.io/animate.css/">Animate.css</a>.
                        </p>
                        <p class="grey-text text-lighten-4">
                            Every element above is animated and cleaned up by Viento in just <span class="bold">a couple lines of specific, easy to understand code</span>.
                        </p>
                        <p class="grey-text text-lighten-4">
                            <a href="https://github.com/au5ton/viento/blob/gh-pages/index.html#LC76" class="waves-effect waves-light btn blue darken-4">WANT TO SEE HOW?</a>
                        </p>
                        <p class="grey-text text-lighten-4">
                            <a class="white-text" href="https://www.flickr.com/photos/nickpomes/16667670478/">Sandy cover photo</a> by <a class="white-text" href="http://www.nickpomes.com/">Nick Pomes</a>
                        </p>
                    </div>
                    <div class="col l4 offset-l2 s12">
                        <h5 class="white-text">Links</h5>
                        <ul>
                            <li><a href="https://github.com/au5ton/viento" class="waves-effect waves-light btn blue darken-4">Github</a></li>
                            <li><a href="http://twitter.com/au5ton" class="waves-effect waves-light btn blue darken-4">Twitter</a></li>
                            <li><a href="mailto:au5ton@icloud.com" class="waves-effect waves-light btn blue darken-4">Email</a></li>
                            <li><a href="http://austinj.net/" class="waves-effect waves-light btn blue darken-4">Austinj.net</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container white-text">
                    &copy; 2015 Austin Jackson
                </div>
            </div>
        </footer>

        <script>

            var v = new Viento();

            $(document).ready(function(){
                $.ajax({
                    url: "README.md",
                    success: function(result){
                        console.log("Ajax successfully retrieved README.md.");
                        $("#content").html(marked(result.substring(result.indexOf("[//]: # (WEB_CONTENT_START)"))));
                        $('pre code').each(function(i, block) {
                            hljs.highlightBlock(block);
                        });
                        var children = $("#content").children();
                        var elementsToSlideLeft = [];
                        var elementsToSlideRight = [];
                        $.each(children,function(i, elem){
                            $(elem).addClass("hidden");
                            if(i%2 === 0) {
                                elementsToSlideLeft.push(elem);
                            }
                            else {
                                elementsToSlideRight.push(elem);
                            }
                        });
                        elementsToSlideLeft = elementsToSlideLeft.sort(Viento.prototype.sortElementsFromTopToBottom);
                        elementsToSlideRight = elementsToSlideRight.sort(Viento.prototype.sortElementsFromTopToBottom);
                        setTimeout(function(){
                            //THIS IS WHERE VIENTO DOES ITS MAGIC
                            v.fire({
                                element: $("#herotext")[0],
                                animation: {
                                    name: "slideInDown",
                                    duration: "1s",
                                    type: "entrance"
                                },
                                callback: function() {
                                    v.burst({
                                        elements: elementsToSlideLeft,
                                        mode: "oneAtATime",
                                        sortingMethod: "topToBottom",
                                        animation: {
                                            name: "slideInLeft",
                                            duration: "0.15s",
                                            type: "entrance"
                                        }
                                    });
                                    v.burst({
                                        elements: elementsToSlideRight,
                                        mode: "oneAtATime",
                                        sortingMethod: "topToBottom",
                                        animation: {
                                            name: "slideInRight",
                                            duration: "0.15s",
                                            type: "entrance"
                                        }
                                    });

                                }
                            })
                        },250);

                    },
                    error: function(jqXHR,textStatus,errorThrown){
                        $("#content").html("Ajax failed to retrieve <a href=\"https://github.com/au5ton/viento/blob/gh-pages/README.md\">README.md</a>.<br>");
                        v.fire({
                            element: $("#herotext")[0],
                            animation: {
                                name: "slideInDown",
                                duration: "1s",
                                type: "entrance"
                            }
                        });
                    }
                });

            });



        </script>

    </body>
</html>